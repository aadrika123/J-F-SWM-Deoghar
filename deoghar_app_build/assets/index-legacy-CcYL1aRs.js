!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e=function(){return r};var n,r={},a=Object.prototype,i=a.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},l="function"==typeof Symbol?Symbol:{},s=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(n){u=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,i=Object.create(a.prototype),l=new A(r||[]);return o(i,"_invoke",{value:F(t,n,l)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=h;var p="suspendedStart",m="suspendedYield",v="executing",y="completed",x={};function g(){}function j(){}function b(){}var w={};u(w,s,(function(){return this}));var L=Object.getPrototypeOf,N=L&&L(L(P([])));N&&N!==a&&i.call(N,s)&&(w=N);var S=b.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(e,n){function r(a,o,l,s){var c=f(e[a],e,o);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==t(u)&&i.call(u,"__await")?n.resolve(u.__await).then((function(t){r("next",t,l,s)}),(function(t){r("throw",t,l,s)})):n.resolve(u).then((function(t){d.value=t,l(d)}),(function(t){return r("throw",t,l,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(t,e){function i(){return new n((function(n,a){r(t,e,n,a)}))}return a=a?a.then(i,i):i()}})}function F(t,e,r){var a=p;return function(i,o){if(a===v)throw Error("Generator is already running");if(a===y){if("throw"===i)throw o;return{value:n,done:!0}}for(r.method=i,r.arg=o;;){var l=r.delegate;if(l){var s=_(l,r);if(s){if(s===x)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=v;var c=f(t,e,r);if("normal"===c.type){if(a=r.done?y:m,c.arg===x)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=y,r.method="throw",r.arg=c.arg)}}}function _(t,e){var r=e.method,a=t.iterator[r];if(a===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=n,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),x;var i=f(a,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,x;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,x):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,x)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[s];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(i.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}throw new TypeError(t(e)+" is not iterable")}return j.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:j,configurable:!0}),j.displayName=u(b,d,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===j||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,d,"GeneratorFunction")),t.prototype=Object.create(S),t},r.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,c,(function(){return this})),r.AsyncIterator=k,r.async=function(t,e,n,a,i){void 0===i&&(i=Promise);var o=new k(h(t,e,n,a),i);return r.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},E(S),u(S,d,"Generator"),u(S,s,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},r.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,a){return l.type="throw",l.arg=t,e.next=r,a&&(e.method="next",e.arg=n),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,x):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),x},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),x}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),x}},r}function n(t,e,n,r,a,i,o){try{var l=t[i](o),s=l.value}catch(t){return void n(t)}l.done?e(s):Promise.resolve(s).then(r,a)}function r(t){return function(){var e=this,r=arguments;return new Promise((function(a,i){var o=t.apply(e,r);function l(t){n(o,a,i,l,s,"next",t)}function s(t){n(o,a,i,l,s,"throw",t)}l(void 0)}))}}System.register(["./index-legacy-DNKTp0nq.js","./SelectField-legacy-CDe210nZ.js","./services-legacy-BAvdU-qa.js","./RHFTextArea-legacy-K8Q6qfkg.js","./ButtonLoading-legacy-Dtw4UhUc.js","./router-legacy-DYc8ozZp.js","./RHFUploadFiled-legacy-B-kEAP9g.js","./index-legacy-BBXE4eys.js","./card-legacy-lAtMyrsJ.js","./Image-legacy-CzfxQAMc.js","./useCustomQuery-legacy-kyMEKemC.js","./separator-legacy-BndLkwaE.js","./SkeletonLoader-legacy-CaPiPJMm.js","./OverLayLoader-legacy-BRJeWcMG.js","./headlessui-legacy-D7WMeg35.js","./axios-legacy-DkcwMedN.js","./module-legacy-BCMopcEa.js"],(function(t,n){"use strict";var a,i,o,l,s,c,d,u,h,f,p,m,v,y,x,g,j,b,w,L,N,S,E,k,F,_,O;return{setters:[function(t){a=t.d,i=t.j,o=t.C,l=t._},function(t){s=t.u,c=t.o,d=t.F,u=t.S,h=t.c,f=t.a,p=t.e},function(t){m=t.g},function(t){v=t.R},function(t){y=t.B},function(t){x=t.d,g=t.h},function(t){j=t.R},function(t){b=t.P},function(t){w=t.C,L=t.b},function(t){N=t.I},function(t){S=t.u,E=t.b,k=t.a},function(t){F=t.S},function(t){_=t.S},function(t){O=t.O},null,null,null],execute:function(){t("default",(function(){var t,h,f,p,T,A,P,U,M,D,R,I,q,G=x(),B=S({}),C=g().id,z=E({api:"".concat(a.getApartmentDetailsById,"/").concat(C),options:{enabled:!!C}}),Y=k({api:a.getPaymentData,config:{apartmentId:C},options:{enabled:!!C}}),H=s({resolver:c(n)}),Q=function(){var t=r(e().mark((function t(n){var i,s;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(s=new FormData).append("apartmentId",String(C)),s.append("adjustUpto",n.paymentUpToMonth),s.append("adjustAmount",String(null==K||null===(i=K.data)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.totaldemand)),s.append("remarks",n.remarks),s.append("billFile",n.billFile),o("Are you sure?","Please confirm",r(e().mark((function t(){var n;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.mutateAsync({api:a.paymentAdjustment,data:s});case 3:(n=t.sent).data.status?(l.success(n.data.msg),G("/deoghar-app/apartment-actions/".concat(C))):l.error(n.data.msg),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),l.error(m(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=k({api:a.getCalculatedAmount,config:{apartmentId:C,payUpto:H.watch("paymentUpToMonth")},value:[H.watch("paymentUpToMonth")],options:{enabled:!!H.watch("paymentUpToMonth")&&!!C}});if(null!=z&&z.isLoading)return i.jsx("div",{className:"p-6 bg-white border border-gray-200 rounded-lg shadow-sm",children:i.jsx(w,{children:i.jsxs(L,{children:[i.jsx(_,{}),i.jsx(_,{}),i.jsx(_,{})]})})});return i.jsxs(b,{title:"Demand Update",children:[B.isLoading&&i.jsx(O,{}),i.jsxs("main",{className:"py-6 grid grid-cols-1 gap-4 px-4",children:[i.jsxs("div",{className:"flex space-x-3 items-center justify-start",children:[i.jsx(N,{src:"/assets/image/category.png",alt:"Demand Update",className:"w-11 h-11 rounded-lg bg-gray-200 p-2"}),i.jsxs("div",{className:"",children:[i.jsx("h1",{className:"font-semibold",children:"Demand Update"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Solid west management system"})]})]}),i.jsx(F,{}),i.jsx(w,{children:i.jsx(L,{children:i.jsxs("div",{className:"grid grid-cols-2 gap-3 py-6",children:[i.jsx("div",{children:i.jsx("h1",{className:"text-xs font-semibold",children:"Apartment code:"})}),i.jsx("div",{children:i.jsx("h1",{className:"text-xs",children:null==z||null===(t=z.data)||void 0===t||null===(t=t.data[0])||void 0===t?void 0:t.apartmentCode})}),i.jsx("div",{children:i.jsx("h1",{className:"text-xs font-semibold",children:"Apartment Name:"})}),i.jsx("div",{children:i.jsx("h1",{className:"text-xs",children:null==z||null===(h=z.data)||void 0===h||null===(h=h.data[0])||void 0===h?void 0:h.apartmentName})}),i.jsx("div",{children:i.jsx("h1",{className:"text-xs font-semibold",children:"Mobile no:"})}),i.jsx("div",{children:i.jsx("h1",{className:"text-xs",children:null==z||null===(f=z.data)||void 0===f||null===(f=f.data[0])||void 0===f?void 0:f.mobileNo})}),i.jsx("div",{children:i.jsx("h1",{className:"text-xs font-semibold",children:"Monthly Demand/Rate:"})}),i.jsx("div",{children:i.jsx("h1",{className:"text-xs",children:null==z||null===(p=z.data)||void 0===p?void 0:p.totalAptMonthlyDemand})}),i.jsx("div",{children:i.jsx("h1",{className:"text-xs font-semibold",children:"Outstanding Demand:"})}),i.jsx("div",{children:i.jsx("h1",{className:"text-xs",children:null==z||null===(T=z.data)||void 0===T?void 0:T.totalAptDemand})}),i.jsx("div",{children:i.jsx("h1",{className:"text-xs font-semibold",children:"Demand from:"})}),i.jsx("div",{children:i.jsx("h1",{className:"text-xs",children:null==z||null===(A=z.data)||void 0===A||null===(A=A.data[0])||void 0===A?void 0:A.demandFrom})}),i.jsx("div",{children:i.jsx("h1",{className:"text-xs font-semibold",children:"Demand upto:"})}),i.jsx("div",{children:i.jsx("h1",{className:"text-xs",children:null==z||null===(P=z.data)||void 0===P||null===(P=P.data[0])||void 0===P?void 0:P.demandUpto})}),i.jsx("div",{children:i.jsx("h1",{className:"text-xs font-semibold",children:"Total flats:"})}),i.jsx("div",{children:i.jsx("h1",{className:"text-xs",children:null==z||null===(U=z.data)||void 0===U||null===(U=U.data)||void 0===U?void 0:U.length})}),i.jsx("div",{children:i.jsx("h1",{className:"text-xs font-semibold",children:"Address:"})}),i.jsx("div",{children:i.jsx("h1",{className:"text-xs",children:null==z||null===(M=z.data)||void 0===M||null===(M=M.data[0])||void 0===M?void 0:M.address})})]})})}),i.jsx(F,{}),i.jsx(w,{children:i.jsx(L,{children:i.jsx(d,{methods:H,onSubmit:H.handleSubmit(Q),children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx("div",{children:i.jsx(u,{name:"paymentUpToMonth",isRequired:!0,label:"Payment upto month",data:null!==(D=null==Y||null===(R=Y.data)||void 0===R||null===(R=R.data)||void 0===R||null===(R=R.demand)||void 0===R?void 0:R.map((function(t){return{label:t.payment_to,value:t.payment_to}})))&&void 0!==D?D:[]})}),i.jsx("div",{children:i.jsx(v,{name:"remarks",label:"Remarks",isRequired:!0})}),i.jsx("div",{children:i.jsx(j,{isRequired:!0,name:"billFile",label:"Bill File",type:"file",accept:".pdf"})}),i.jsx("div",{className:"flex justify-end mt-2",children:i.jsxs(y,{type:"submit",size:"sm",isLoading:B.isLoading||K.isLoading,disabled:K.isLoading||B.isLoading,children:[K.isLoading?"Loading...":"SUBMIT"," ",(null==K||null===(I=K.data)||void 0===I||null===(I=I.data)||void 0===I?void 0:I.totaldemand)&&(null==K||null===(q=K.data)||void 0===q||null===(q=q.data)||void 0===q?void 0:q.totaldemand)]})})]})})})})]})]})}));var n=h().shape({paymentUpToMonth:f().required("Month is required"),remarks:f().required("Remark is required"),billFile:p().required("Bill File is required").test("fileSize","File Size is too large. Max 900kb allowed.",(function(t){return t&&t.size<=9e5}))})}}}))}();
