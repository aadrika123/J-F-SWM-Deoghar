!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e=function(){return r};var n,r={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},l="function"==typeof Symbol?Symbol:{},s=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(n){u=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),l=new P(r||[]);return a(o,"_invoke",{value:F(t,n,l)}),o}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=h;var m="suspendedStart",p="suspendedYield",v="executing",x="completed",y={};function g(){}function j(){}function b(){}var w={};u(w,s,(function(){return this}));var N=Object.getPrototypeOf,L=N&&N(N(U([])));L&&L!==i&&o.call(L,s)&&(w=L);var S=b.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(e,n){function r(i,a,l,s){var c=f(e[i],e,a);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==t(u)&&o.call(u,"__await")?n.resolve(u.__await).then((function(t){r("next",t,l,s)}),(function(t){r("throw",t,l,s)})):n.resolve(u).then((function(t){d.value=t,l(d)}),(function(t){return r("throw",t,l,s)}))}s(c.arg)}var i;a(this,"_invoke",{value:function(t,e){function o(){return new n((function(n,i){r(t,e,n,i)}))}return i=i?i.then(o,o):o()}})}function F(t,e,r){var i=m;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===x){if("throw"===o)throw a;return{value:n,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var s=_(l,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=x,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var c=f(t,e,r);if("normal"===c.type){if(i=r.done?x:p,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=x,r.method="throw",r.arg=c.arg)}}}function _(t,e){var r=e.method,i=t.iterator[r];if(i===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=n,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,y;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,y):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function U(e){if(e||""===e){var r=e[s];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(o.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}throw new TypeError(t(e)+" is not iterable")}return j.prototype=b,a(S,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:j,configurable:!0}),j.displayName=u(b,d,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===j||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,d,"GeneratorFunction")),t.prototype=Object.create(S),t},r.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,c,(function(){return this})),r.AsyncIterator=k,r.async=function(t,e,n,i,o){void 0===o&&(o=Promise);var a=new k(h(t,e,n,i),o);return r.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(S),u(S,d,"Generator"),u(S,s,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},r.values=U,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return l.type="throw",l.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:U(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),y}},r}function n(t,e,n,r,i,o,a){try{var l=t[o](a),s=l.value}catch(t){return void n(t)}l.done?e(s):Promise.resolve(s).then(r,i)}function r(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var a=t.apply(e,r);function l(t){n(a,i,o,l,s,"next",t)}function s(t){n(a,i,o,l,s,"throw",t)}l(void 0)}))}}System.register(["./index-legacy-2_RsFPup.js","./SelectField-legacy-mUqqAy8m.js","./services-legacy-BAvdU-qa.js","./RHFTextArea-legacy-BjhpgMUz.js","./router-legacy-DYc8ozZp.js","./RHFUploadFiled-legacy-z0e3oUbx.js","./index-legacy-cd4nMDMk.js","./card-legacy-BDC32D1Q.js","./Image-legacy-COQhmTnm.js","./useCustomQuery-legacy-BeKmFAzZ.js","./separator-legacy-aCRIZKv7.js","./SkeletonLoader-legacy-C4fRAwBj.js","./OverLayLoader-legacy-CyQsjFpp.js","./headlessui-legacy-D7WMeg35.js","./axios-legacy-DkcwMedN.js","./module-legacy-D1OvOQGI.js"],(function(t,n){"use strict";var i,o,a,l,s,c,d,u,h,f,m,p,v,x,y,g,j,b,w,N,L,S,E,k,F,_,O;return{setters:[function(t){i=t.d,o=t.j,a=t.B,l=t.C,s=t._},function(t){c=t.u,d=t.o,u=t.F,h=t.S,f=t.c,m=t.a,p=t.e},function(t){v=t.g},function(t){x=t.R},function(t){y=t.d,g=t.h},function(t){j=t.R},function(t){b=t.P},function(t){w=t.C,N=t.b},function(t){L=t.I},function(t){S=t.u,E=t.b,k=t.a},function(t){F=t.S},function(t){_=t.S},function(t){O=t.O},null,null,null],execute:function(){t("default",(function(){var t,f,m,p,T,P,U,D,M,R,A,I,q,G=S({}),C=y(),B=g().id,z=E({api:"".concat(i.getConsumerDetailsById,"/").concat(B),options:{enabled:!!B}}),Y=k({api:i.getPaymentData,config:{consumerId:B},options:{enabled:!!B}}),H=c({resolver:d(n)}),Q=function(){var t=r(e().mark((function t(n){var o,a;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a=new FormData).append("consumerId",String(B)),a.append("adjustUpto",n.paymentUpToMonth),a.append("adjustAmount",String(null==K||null===(o=K.data)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.totaldemand)),a.append("remarks",n.remarks),a.append("billFile",n.billFile),l("Are you sure?","Please confirm",r(e().mark((function t(){var n;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.mutateAsync({api:i.paymentAdjustment,data:a});case 3:(n=t.sent).data.status?(s.success(n.data.msg),C("/deoghar-app/consumer-actions/".concat(B))):s.error(n.data.msg),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),s.error(v(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=k({api:i.getCalculatedAmount,config:{consumerId:B,payUpto:H.watch("paymentUpToMonth")},value:[H.watch("paymentUpToMonth")],options:{enabled:!!H.watch("paymentUpToMonth")&&!!B}});if(null!=z&&z.isLoading)return o.jsx("div",{className:"p-6 bg-white border border-gray-200 rounded-lg shadow-sm",children:o.jsx(w,{children:o.jsxs(N,{children:[o.jsx(_,{}),o.jsx(_,{}),o.jsx(_,{})]})})});return o.jsxs(b,{title:"Demand Update",children:[G.isLoading&&o.jsx(O,{}),o.jsxs("main",{className:"py-6 grid grid-cols-1 gap-4 px-4",children:[o.jsxs("div",{className:"flex space-x-3 items-center justify-start",children:[o.jsx(L,{src:"/assets/image/category.png",alt:"Demand Update",className:"w-11 h-11 rounded-lg bg-gray-200 p-2"}),o.jsxs("div",{className:"",children:[o.jsx("h1",{className:"font-semibold",children:"Demand Update"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Solid west management system"})]})]}),o.jsx(F,{}),o.jsx(w,{children:o.jsx(N,{children:o.jsxs("div",{className:"grid grid-cols-2 gap-3 py-6",children:[o.jsx("div",{children:o.jsx("h1",{className:"text-xs font-semibold",children:"Consumer no:"})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xs",children:null==z||null===(t=z.data)||void 0===t||null===(t=t.data[0])||void 0===t?void 0:t.consumerNo})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xs font-semibold",children:"Consumer Name:"})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xs",children:null==z||null===(f=z.data)||void 0===f||null===(f=f.data[0])||void 0===f?void 0:f.consumerName})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xs font-semibold",children:"Mobile no:"})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xs",children:null==z||null===(m=z.data)||void 0===m||null===(m=m.data[0])||void 0===m?void 0:m.mobileNo})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xs font-semibold",children:"Monthly Demand/Rate:"})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xs",children:null==z||null===(p=z.data)||void 0===p||null===(p=p.data[0])||void 0===p?void 0:p.monthlyDemand})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xs font-semibold",children:"Outstanding Demand:"})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xs",children:null==z||null===(T=z.data)||void 0===T||null===(T=T.data[0])||void 0===T?void 0:T.totalDemand})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xs font-semibold",children:"Demand from:"})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xs",children:null==z||null===(P=z.data)||void 0===P||null===(P=P.data[0])||void 0===P?void 0:P.demandFrom})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xs font-semibold",children:"Demand upto:"})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xs",children:null==z||null===(U=z.data)||void 0===U||null===(U=U.data[0])||void 0===U?void 0:U.demandUpto})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xs font-semibold",children:"Total flats:"})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xs",children:null==z||null===(D=z.data)||void 0===D||null===(D=D.data)||void 0===D?void 0:D.length})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xs font-semibold",children:"Address:"})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xs",children:null==z||null===(M=z.data)||void 0===M||null===(M=M.data[0])||void 0===M?void 0:M.Address})})]})})}),o.jsx(F,{}),o.jsx(w,{children:o.jsx(N,{children:o.jsx(u,{methods:H,onSubmit:H.handleSubmit(Q),children:o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx("div",{children:o.jsx(h,{isRequired:!0,name:"paymentUpToMonth",label:"Payment upto month",data:null!==(R=null==Y||null===(A=Y.data)||void 0===A||null===(A=A.data)||void 0===A||null===(A=A.demand)||void 0===A?void 0:A.map((function(t){return{label:t.payment_to,value:t.payment_to}})))&&void 0!==R?R:[]})}),o.jsx("div",{children:o.jsx(x,{name:"remarks",label:"Remarks",isRequired:!0})}),o.jsx("div",{children:o.jsx(j,{isRequired:!0,name:"billFile",label:"Bill File",type:"file",accept:".pdf"})}),o.jsx("div",{className:"flex justify-end mt-2",children:o.jsxs(a,{type:"submit",size:"sm",children:[K.isLoading?"Loading...":"SUBMIT"," ",(null==K||null===(I=K.data)||void 0===I||null===(I=I.data)||void 0===I?void 0:I.totaldemand)&&(null==K||null===(q=K.data)||void 0===q||null===(q=q.data)||void 0===q?void 0:q.totaldemand)]})})]})})})})]})]})}));var n=f().shape({paymentUpToMonth:m().required("Month is required"),remarks:m().required("Remark is required"),billFile:p().required("Bill File is required").test("fileSize","File Size is too large. Max 900kb allowed.",(function(t){return t&&t.size<=9e5}))})}}}))}();
