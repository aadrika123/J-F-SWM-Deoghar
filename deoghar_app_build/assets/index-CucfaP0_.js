import{j as e,B as y,h as N,e as f,I as S}from"./index-dMd2Y3Xj.js";import{d as A,r as b}from"./router-CTqkcgir.js";import{C as P,b as F}from"./card-ScpGdjBX.js";import{P as C}from"./index-WhsYg5SR.js";import{P as $}from"./index-QgvtGRea.js";import{u as I,o as L,F as k,S as v,c as E,a as o}from"./SelectField-D2-dpjBm.js";import{R as W}from"./RHFTextField-DADpjyBr.js";import{u as B}from"./useComonData-aTF8YqT1.js";import{S as n}from"./separator-CNeIrDee.js";import"./headlessui-BV7w-sRG.js";import"./axios-DmypytPv.js";function R({apartmentData:t}){var d,i;const c=A();return t!=null&&t.isFetching?e.jsx(e.Fragment,{children:Array.from({length:10}).map((a,s)=>e.jsx("div",{className:"p-6 bg-white border border-gray-200 rounded-lg shadow-sm",children:e.jsx("div",{className:"animate-pulse flex space-x-4",children:e.jsxs("div",{className:"flex-1 space-y-4 py-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]})})},s+1))}):e.jsx(e.Fragment,{children:t.status==="success"&&((i=(d=t==null?void 0:t.data)==null?void 0:d.data)==null?void 0:i.length)>0?t.data.data.map(a=>e.jsx("div",{className:"p-6 bg-white border border-gray-200 rounded-lg shadow-sm",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-500",children:"Apartment Name :"}),e.jsx("div",{className:"text-sm font-semibold text-gray-500 w-30 truncate",children:a.apartmentName})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-500",children:"Ward No :"}),e.jsx("div",{className:"text-sm font-semibold text-gray-500",children:a.wardNo})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-500",children:"Apartment code :"}),e.jsx("div",{className:"text-sm font-semibold text-gray-500",children:a.apartmentCode})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-500",children:"Demand upto :"}),e.jsx("div",{className:"text-sm font-semibold text-gray-500",children:a.demandUpto})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-500",children:"Total demand :"}),e.jsx("div",{className:"text-sm font-semibold text-gray-500",children:a.totalDemand})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-500",children:"Paid Status :"}),e.jsx("div",{className:"text-sm font-semibold text-gray-500",children:a.paidStatus==="Paid"?e.jsx("span",{className:"px-2 py-1 text-xs font-semibold flex justify-start items-center border border-green-500 text-green-500 rounded-lg",children:a.paidStatus}):e.jsx("span",{className:"px-2 py-1 text-xs font-semibold flex justify-start items-center border border-red-500 text-red-500 rounded-lg",children:a.paidStatus})})]}),e.jsx(n,{}),e.jsx("div",{className:"col-span-1 w-full",children:e.jsx(y,{onClick:()=>c(`/deoghar-app/apartment-actions/${a.id}`),variant:"outline",className:"w-full rounded-lg ",size:"sm",children:e.jsx("h1",{className:"text-xs font-semibold text-gray-600",children:"VIEW DETAILS"})})})]})},a.id)):e.jsx("div",{className:"p-6 bg-white border border-gray-200 rounded-lg shadow-sm",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"text-sm font-semibold text-gray-500",children:"No Data Found"})})})})}const T=E().shape({apartmentId:o(),apartmentName:o(),wardNo:o()});function Q(){var x,h,g,p,j,u;const{getAllUser:t}=B(),[c,d]=b.useState(1),[i,a]=b.useState(10),s=I({resolver:L(T),defaultValues:{apartmentId:"",apartmentName:"",wardNo:""}}),l=N({api:`${f.getApartmentList}?
      ${s!=null&&s.watch("apartmentName")?`apartmentName=${s==null?void 0:s.watch("apartmentName")}`:`apartmentId=${s==null?void 0:s.watch("apartmentId")}`}`,key:"apartmentData",options:{enabled:!1}}),m=N({api:`${f.getApartmentListByWardNo}/${s.watch("wardNo")}`,options:{enabled:!!s.watch("wardNo")}}),w=async r=>{d(1),a(10),l.refetch()};return e.jsx($,{title:"Search Apartment",children:e.jsxs("main",{className:"py-6 grid grid-cols-1 gap-4 px-4",children:[e.jsxs("div",{className:"flex space-x-3 items-center justify-start",children:[e.jsx(S,{src:"/assets/image/apartment.png",alt:"Add Consumer",className:"w-11 h-11 rounded-lg bg-gray-200 p-2"}),e.jsxs("div",{className:"",children:[e.jsx("h1",{className:" font-semibold",children:"Search Apartment"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Search apartment details here."})]})]}),e.jsx(n,{}),e.jsx(P,{className:"overflow-hidden py-4","x-chunk":"dashboard-05-chunk-4",children:e.jsx(F,{className:"px-6 text-sm",children:e.jsx(k,{methods:s,onSubmit:s.handleSubmit(w),children:e.jsxs("div",{className:"grid gap-6",children:[e.jsx(W,{name:"apartmentName",label:"Apartment name",className:"w-full"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{children:e.jsx(v,{name:"wardNo",label:"Ward No",className:"w-full",data:((g=(h=(x=t==null?void 0:t.data)==null?void 0:x.data[0].ulbDetails[0])==null?void 0:h.wards)==null?void 0:g.map(r=>({label:String(r),value:String(r)})))??[]})}),e.jsx("div",{children:e.jsx(v,{name:"apartmentId",label:"Apartment",className:"w-full",data:((u=(j=(p=m==null?void 0:m.data)==null?void 0:p.data)==null?void 0:j.apartmentList)==null?void 0:u.map(r=>({label:String(r.apt_name),value:String(r.id)})))??[]})})]}),e.jsx("div",{className:"flex justify-end mt-2",children:e.jsx(y,{type:"submit",variant:"default",size:"sm",className:"rounded-md w-24",children:"Search"})})]})})})}),e.jsx(n,{}),e.jsx(R,{apartmentData:l}),(l==null?void 0:l.status)==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(C,{page:c,perPage:i,totalPage:10,setPage:r=>d(r)}),e.jsx(n,{})]})]})})}export{Q as default};
